<!DOCTYPE html><html><head><title>Glip Bot using IBM Watson and Botkit- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header left-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div></div></div><div id="viewsaurus" data-title="Glip Bot using IBM Watson and Botkit"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>Glip Bot using IBM Watson and Botkit</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn how to build a Glip Bot with IBM Watson and Botkit using node.js</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Getting Started with Glip Bots" class="chapter"><div data-title="Welcome!" data-file="tutorial/config.json" class="step"><h2>Welcome to the Getting Started with RingCentral Glip Tutorials</h2><p>Glip provides a single, unified team workspace that empowers you to work, communicate, and collaberate faster and more effectively.</p><p>In this tutorial, we will look at how to build bots to enhances the productivity more than ever before usign IBM Watson.</p></div><div data-title="Prerequisites" data-file="index.js" data-highlight="" class="step"><h2 id="requirements">Requirements</h2>
<ul>
<li>Create Two free RingCentral developer account with Platform and API access (Don&#39;t have a RingCentral Account, no worries. <a href="https://developers.ringcentral.com/free-tier-sign-up.html">Get your free RingCentral Developer Account Now</a>)<ul>
<li>Account #1 - for building a bot.</li>
<li>Account #2 - for testing the bot</li>
</ul>
</li>
<li>Create an application defined in the <a href="https://developers.ringcentral.com">RingCentral Developer Portal</a> that has the following properties:<ul>
<li>Platform Type: server-only</li>
<li>API Permissions: Glip</li>
</ul>
</li>
<li>An <a href="https://www.ibm.com/cloud-computing/bluemix/watson">IBM Blumix</a> account.</li>
<li>Credentials for IBM Watson personality Insight.</li>
</ul>
</div><div data-title="Download from Github" data-file=".env.template" class="step"><h2 id="clone-repo">Clone Repo</h2>
<ul>
<li><p>As a first step, clone the sample application from <a href="https://github.com/pkvenu/botkit-watson-bot">Github</a>.</p>
<p><code>git clone https://github.com/pkvenu/botkit-watson-bot.git</code></p>
</li>
<li><p>Create a copy of the .env.template file and rename it to .env</p>
<p><code>mv .env.template .env</code></p>
</li>
</ul>
</div><div data-title="Tutorial Configuration" data-file=".env.template" class="step"><h2 id="configuration">Configuration</h2>
<p>The first file we&#39;ll look at is <code>config.json</code>. This contains high-level configuration information about your tutorial. This JSON file contains several properties you can declare about your tutorial:</p>
<ul>
<li><code>GLIP_SERVER</code>: Developer account - Sandbox or Production</li>
<li><code>GLIP_APPKEY</code>: Developer Account App Key.</li>
<li><code>GLIP_APPSECRET</code>: Developer Account App Secret.</li>
<li><code>GLIP_USERNAME</code>: Glip Username</li>
<li><code>GLIP_PASSWORD</code>: Glip Password</li>
<li><code>WATSON_USERNAME</code>: IBM Blumix Username</li>
<li><code>WATSON_PASSWORD</code>: IBM Blumix Password</li>
<li><code>WATSON_URL</code>: Personality Insight URL</li>
<li><code>WATSON_VERSION_DATE</code>: Personality Insight Version Date</li>
<li><code>WATSON_VERSION</code>: Personality Insight Version</li>
</ul>
</div><div data-title="Install Application Dependencies" data-file="index.js" data-highlight="6-12" class="step"><p>In this step will install all dependencies using the code below:</p>
<p> <code>npm install --save</code></p>
<p>This install two major packages:</p>
<ul>
<li><code>botkit</code>: Botkit is one of the most popular open-source toolkits for building bots. We will use the Glip adapter for the current example.</li>
<li><code>watson-developer-cloud</code>: Watson Developer cloud contains the modules for Machine Learning and AI. We will be using the Personality Insight module in the current example.</li>
</ul>
</div><div data-title="Instantiate Glip Botkit adapter" data-file="index.js" data-highlight="14-40" class="step"><p>Here we will instantiate the botkit adapater by calling the <code>botkit.glipbot()</code> module. The botkit constructure returns a controller objects. By attaching event handlers to the controller object, developers can specify what their bot should look and respond to, including keywords, patterns and various messaging and status events.</p>
<p>The controller object is then userd to <code>spawn()</code> bot instances that represents a specific bot identity and connection to Glip. Once spawned and connected to the API, the bot user will appear online in Glip, and can then be used to send messages and conduct conversations with users.</p>
</div><div data-title="Create IBM Watson instance" data-file="index.js" data-highlight="42-47" class="step"><p>IBM Watson offers AI and Machine Learning services through its Bluemix cloud platform. To get started quickly with Watson and Bluemix, create a free account . </p>
<p>To instantiate the IBM Watson Personality Insight, we will use the <code>Watson-developer-cloud</code> npm and &#39;personality insight&#39; module.</p>
</div><div data-title="Send Data to IBM Watson" data-file="index.js" data-highlight="49-82" class="step"><p>Now all basic dependencies are added. Lets get into the business logic.</p>
<p>Botkit provides the <code>hears()</code> function, which configures event handlers based on matching specific keywords or phrases in the message text.</p>
<p>We use the <code>hears()</code> method to lisit to the <code>analyze</code> keyword. Once the keyword is triggered we collect all post&#39;s for the current group and pass it to watson for analyze.</p>
<p>Watson will analyze all data and return back with top 5 personality insights.</p>
</div><div data-file="package.json" data-highlight="6-8" class="step"><h2 id="start-the-app">Start the App</h2>
<p>  You can look inside the <code>scripts</code> section of the <code>package.json</code> for this repository to see you can use NPM to start the app. In your terminal, use:</p>
<p>  <code>npm start</code></p>
<p>  Now login to the sandbox account <code>http:\\glip.devtest.ringcentral.com</code> and add the bot by clicking on the <code>+</code> icon as shown below:</p>
<p>  <img src="images/add_user.png" alt="add Glip bot"></p>
</div><div data-file="" data-highlight="" class="step"><h2 id="output">Output</h2>
<p>  Type <code>watson: analyze</code>. Glip will send all history in the group and respond back with top 5 personality insigths as shown in the image.</p>
<p>  <img src="images/IBM_Watson_Output.png" alt=""></p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="tutorial/config.json" data-mode="json">ewogICAgInRpdGxlIjogIkdsaXAgQm90IHVzaW5nIElCTSBXYXRzb24gYW5kIEJvdGtpdCIsCiAgICAicmVwbyI6ICJyaW5nY2VudHJhbC10dXRvcmlhbHMvYm90a2l0LXdhdHNvbi1ib3Qtbm9kZWpzLWRlbW8iLAogICAgImRlc2NyaXB0aW9uIjogIkxlYXJuIGhvdyB0byBidWlsZCBhIEdsaXAgQm90IHdpdGggSUJNIFdhdHNvbiBhbmQgQm90a2l0IHVzaW5nIG5vZGUuanMiLAogICAgImhlcm9rdSI6IGZhbHNlCn0=</textarea>
<textarea class="saurus-file" data-file="index.js" data-mode="javascript">LyoqCiAqIENyZWF0ZWQgYnkgcGF3YW4udmVudWdvcGFsIG9uIDMvMjAvMTcuCiAqLwoidXNlIHN0cmljdCI7CgpyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTsKCnZhciBCb3RraXQ9IHJlcXVpcmUoJ2JvdGtpdCcpLAogICAgb3MgPSByZXF1aXJlKCdvcycpLAogICAgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKSwKICAgIHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0JyksCiAgICB3YXRzb24gPSByZXF1aXJlKCd3YXRzb24tZGV2ZWxvcGVyLWNsb3VkJyk7Cgp2YXIgY29udHJvbGxlciA9IEJvdGtpdC5nbGlwYm90KHsKICAgIGRlYnVnOiBmYWxzZQp9KTsKCnZhciBib3QgPSBjb250cm9sbGVyLnNwYXduKHsKICAgIHNlcnZlcjogcHJvY2Vzcy5lbnYuR0xJUF9TRVJWRVIsCiAgICBhcHBLZXk6IHByb2Nlc3MuZW52LkdMSVBfQVBQS0VZLAogICAgYXBwU2VjcmV0OiBwcm9jZXNzLmVudi5HTElQX0FQUFNFQ1JFVCwKICAgIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5HTElQX1VTRVJOQU1FLAogICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkdMSVBfUEFTU1dPUkQsCiAgICBleHRlbnNpb246IHByb2Nlc3MuZW52LkdMSVBfRVhURU5TSU9OCn0pLnN0YXJ0UlRNKCk7Cgpjb250cm9sbGVyLnNldHVwV2Vic2VydmVyKHByb2Nlc3MuZW52LnBvcnQgfHwgMzAwMCwgZnVuY3Rpb24oZXJyLCB3ZWJzZXJ2ZXIpewoKICAgIGlmKCFlcnIpewogICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicgKyBlcnIpOwogICAgfQoKICAgIHdlYnNlcnZlci5nZXQoJy8nLCBmdW5jdGlvbiAocmVxICxyZXMpIHsKICAgICAgICByZXMuc2VuZCgnOiknKTsKICAgIH0pOwoKCiAgICBjb250cm9sbGVyLmNyZWF0ZVdlYmhvb2tFbmRwb2ludHMod2Vic2VydmVyLCBib3QpOwoKfSk7Cgp2YXIgcGVyc29uYWxpdHlfaW5zaWdodCA9IHdhdHNvbi5wZXJzb25hbGl0eV9pbnNpZ2h0cyh7CiAgICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuV0FUU09OX1VTRVJOQU1FLAogICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LldBVFNPTl9QQVNTV09SRCwKICAgIHVybDogcHJvY2Vzcy5lbnYuV0FUU09OX1VSTCwKICAgIHZlcnNpb25fZGF0ZTpwcm9jZXNzLmVudi5XQVRTT05fVkVSU0lPTl9EQVRFLAogICAgdmVyc2lvbjogcHJvY2Vzcy5lbnYuV0FUU09OX1ZFUlNJT04KfSk7Cgpjb250cm9sbGVyLmhlYXJzKFsnd2F0c29uJ10sICdtZXNzYWdlX3JlY2VpdmVkJywgZnVuY3Rpb24gKGJvdCwgbWVzc2FnZSkgewogICAgYm90LnJlcGx5KG1lc3NhZ2UsICJoaSwgdGhpcyBpcyB3YXRzb24sIEhvdyBjYW4gSSBoZWxwIHlvdSA/ICIpOwp9KTsKCmNvbnRyb2xsZXIuaGVhcnMoWydhbmFseXplJ10sICdtZXNzYWdlX3JlY2VpdmVkJywgZnVuY3Rpb24gKGJvdCxtZXNzYWdlKSB7CiAgICAvL2NvbnNvbGUubG9nKCJJbiBIZWFyczoiICsgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpOwogICAgYm90LmFwaS5wb3N0cygpLmdldCh7Z3JvdXBJZDogbWVzc2FnZS5jaGFubmVsfSkudGhlbihmdW5jdGlvbihoaXN0b3J5KSB7CgogICAgICAgIHZhciBtZXNzYWdlcyA9IFtdOwogICAgICAgIGZvcih2YXIgaT0wOyBpIDwgaGlzdG9yeS5yZWNvcmRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgbWVzc2FnZXMucHVzaChoaXN0b3J5LnJlY29yZHNbaV0udGV4dCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29ycHVzID0gbWVzc2FnZXMuam9pbigiXG4iKTsKCiAgICAgICAgcGVyc29uYWxpdHlfaW5zaWdodC5wcm9maWxlKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBjb3JwdXMsCiAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ2VuJwogICAgICAgICAgICB9LAogICAgICAgICAgICBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYoZXJyKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6JywgZXJyKQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5zdGFydFRhc2soYm90LCBtZXNzYWdlLCBmdW5jdGlvbiAodGFzaywgY29udm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInBlcnNvbmFsaXR5IHJlc3BvbnNlOiAiICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvcDUgPSByZXNwb25zZS5wZXJzb25hbGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCAgdG9wNS5sZW5ndGg7IGMrKykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udm8uc2F5KCdUaGlzIGNoYW5uZWwgaGFzICcgKyBNYXRoLnJvdW5kKHRvcDVbY10ucGVyY2VudGlsZSoxMDApICsgJyUgJyArIHRvcDVbY10ubmFtZSk7CgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICApCiAgICB9KTsKfSk7Cgo=</textarea>
<textarea class="saurus-file" data-file=".env.template" data-mode="text">R0xJUF9TRVJWRVI9aHR0cHM6Ly9wbGF0Zm9ybS5kZXZ0ZXN0LnJpbmdjZW50cmFsLmNvbQpHTElQX0FQUEtFWT0KR0xJUF9BUFBTRUNSRVQ9CkdMSVBfVVNFUk5BTUU9CkdMSVBfUEFTU1dPUkQ9CkdMSVBfRVhURU5TSU9OPQpXQVRTT05fVVNFUk5BTUU9CldBVFNPTl9QQVNTV09SRD0KV0FUU09OX1VSTD0KV0FUU09OX1ZFUlNJT05fREFURT0KV0FUU09OX1ZFUlNJT049</textarea>
<textarea class="saurus-file" data-file="package.json" data-mode="json">ewogICJuYW1lIjogImJvdGtpdC13YXRzb24tYm90LW5vZGVqcy1kZW1vIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIkJvdGtpdCBleGFtcGxlIHdpdGggd2F0c29uIHBlcnNvbmFsaXR5IGluc2lnaHQiLAogICJtYWluIjogImluZGV4LmpzIiwKICAic2NyaXB0cyI6IHsKICAgICJzdGFydCI6ICJub2RlIGluZGV4LmpzIgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJib3RraXQiOiAiZ2l0Oi8vZ2l0aHViLmNvbS9wa3ZlbnUvYm90a2l0LmdpdCNtYXN0ZXIiLAogICAgImRvdGVudiI6ICI0LjAuMCIsCiAgICAiaHR0cCI6ICIwLjAuMCIsCiAgICAib3MiOiAiMC4xLjEiLAogICAgInJlcXVlc3QiOiAiMi44MS4wIiwKICAgICJ3YXRzb24tZGV2ZWxvcGVyLWNsb3VkIjogIjIuMjcuMCIKICB9LAogICJrZXl3b3JkcyI6IFsKICAgICJib3RraXQiLAogICAgIndhdHNvbiIsCiAgICAicGVyc29uYWxpdHkiLAogICAgImluc2lnaHQiLAogICAgImNoYXRib3QiCiAgXSwKICAiYXV0aG9yIjogInBhd2FuLnZlbnVnb3BhbEByaW5nY2VudHJhbC5jb20iLAogICJsaWNlbnNlIjogIk1JVCIsCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJjb3ZlcmFsbHMiOiAiXjIuMTMuMSIKICB9Cn0K</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/botkit-watson-bot-nodejs-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/botkit-watson-bot-nodejs-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script>window.tutorialName="Glip Bot using IBM Watson and Botkit";</script><script src="viewsaurus.js"></script></body></html>